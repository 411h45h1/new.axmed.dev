---
const {
  appId,
  title,
  initialStyle = "",
  ariaLabel,
  hidden = false,
} = Astro.props;
---

<section
  class={`window ${hidden ? "hidden" : ""}`}
  id={`win-${appId}`}
  data-app={appId}
  role="dialog"
  aria-label={ariaLabel || `${title} window`}
  aria-modal="false"
  style={initialStyle}
>
  <div class="titlebar">
    <div class="window-buttons">
      <div class="window-button close" data-action="close" aria-label="Close">
        <svg viewBox="0 0 8 8">
          <path
            d="M1 1 L7 7 M7 1 L1 7"
            stroke="#4d0000"
            stroke-width="1.4"
            stroke-linecap="round"></path>
        </svg>
      </div>
      <div
        class="window-button minimize"
        data-action="minimize"
        aria-label="Minimize"
      >
        <svg viewBox="0 0 8 8">
          <path
            d="M1 4 H7"
            stroke="#5a3e00"
            stroke-width="1.6"
            stroke-linecap="round"></path>
        </svg>
      </div>
      <div
        class="window-button maximize"
        data-action="maximize"
        aria-label="Maximize"
      >
        <svg viewBox="0 0 8 8">
          <path
            d="M1.2 1.2 H6.8 V6.8 H1.2 Z"
            stroke="#063d06"
            stroke-width="1.2"
            fill="none"></path>
        </svg>
      </div>
    </div>
    <div class="title">{title}</div>
  </div>
  <div class="window-content">
    <slot />
  </div>
  <div class="window-resizer" aria-hidden="true" data-resize="bottom-right">
  </div>
  <div
    class="window-resizer-corner top-left"
    aria-hidden="true"
    data-resize="top-left"
  >
  </div>
  <div
    class="window-resizer-corner top-right"
    aria-hidden="true"
    data-resize="top-right"
  >
  </div>
  <div
    class="window-resizer-corner bottom-left"
    aria-hidden="true"
    data-resize="bottom-left"
  >
  </div>
  <div class="window-resizer-edge top" aria-hidden="true" data-resize="top">
  </div>
  <div
    class="window-resizer-edge bottom"
    aria-hidden="true"
    data-resize="bottom"
  >
  </div>
  <div class="window-resizer-edge left" aria-hidden="true" data-resize="left">
  </div>
  <div class="window-resizer-edge right" aria-hidden="true" data-resize="right">
  </div>
</section>
